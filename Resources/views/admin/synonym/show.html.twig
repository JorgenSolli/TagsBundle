{% extends eztags_admin.pageLayoutTemplate %}

{% trans_default_domain 'eztags_admin' %}

{% block content %}
    <h2>{{ 'synonym.title'|trans }}: {{ netgen_tags_tag_keyword(tag) }} ({{ 'tag.main_tag'|trans }}: <a href="{{ path('netgen_tags_admin_tag_show', {'tagId': tag.mainTagId}) }}">{{ netgen_tags_tag_keyword(tag.mainTagId) }}</a>)</h2>
    <p>{{ 'tag.last_modified'|trans }}: {{ tag.modificationDate|date('d/m/Y g:i a') }} ({{ 'tag.tag_id'|trans }}: {{ tag.id }})</p>

    {# Show success and error messages from flash messages, if there is any #}
    {% include 'NetgenTagsBundle:messages:success_messages.html.twig' %}
    {% include 'NetgenTagsBundle:messages:error_messages.html.twig' %}

    {# Show synonym action buttons #}
    <a href="{{ path('netgen_tags_admin_tag_update_select', {'tagId': tag.id}) }}" class="button">{{ 'synonym.edit.title'|trans }}</a>
    <a href="{{ path('netgen_tags_admin_tag_delete', {'tagId': tag.id}) }}" class="button">{{ 'synonym.delete.title'|trans }}</a>

    {# Show latest content connected with this synonym #}
    <h3>{{ 'tag.latest.title'|trans }}</h3>

    {% if latestContent is empty %}
    <p>{{  'tag.latest_content.no_content'|trans }}</p>
    {% else %}

    <table>
        <thead>
        <tr>
            <th>{{ 'tag.table.tag_id'|trans }}</th>
            <th>{{ 'tag.table.tag_name'|trans }}</th>
            <th>{{ 'tag.table.modified'|trans }}</th>
            <th>{{ 'tag.class.name'|trans }}</th>
        </tr>
        </thead>
        <tbody>
        {% for content in latestContent %}
            <tr>
                <td>{{ content.contentInfo.id }}</td>
                <td>{{ ez_content_name(content) }}</td>
                <td>{{ content.contentInfo.modificationDate|date('d.m.Y H:i') }}</td>
                <td>{{ netgen_tags_content_type_name(content.contentInfo.contentTypeId) }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {% endif %}

    {% include 'NetgenTagsBundle:admin/tag:translations.html.twig' %}
{% endblock %}
