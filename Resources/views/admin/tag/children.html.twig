{% trans_default_domain 'eztags_admin' %}

<h3>{{ 'tag.children_tags.title'|trans }} ({{ childrenTags|length }})</h3>

<div class="tags-btn-group">
    <a href="{{ path('netgen_tags_admin_tag_add_select', {'parentId': tag is defined ? tag.id : 0}) }}" class="tags-btn"><i class="md-icon">add</i>{{ 'tag.add.title'|trans }}</a>
</div>

{% if childrenTags is not empty %}
    <form method="post" action="{{ path('netgen_tags_admin_tag_children', {'tagId': tag is defined ? tag.id : 0}) }}">
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th>{{ 'tag.table.tag_id'|trans }}</th>
                    <th>{{ 'tag.table.tag_name'|trans }}</th>
                    <th>{{ 'tag.translations.title'|trans }}</th>
                    <th>{{ 'tag.table.modified'|trans }}</th>
                </tr>
            </thead>
            <tbody>
                {% for child in childrenTags %}
                    <tr>
                        <td><input type="checkbox" data-enable="Tags" name="Tags[]" id="childTag{{ child.id }}" value="{{ child.id }}"/><label for="childTag{{ child.id }}"></label></td>
                        <td>{{ child.id }}</td>
                        <td><a href="{{ path('netgen_tags_admin_tag_show', {'tagId': child.id}) }}">{{ netgen_tags_tag_keyword(child) }}</a></td>
                        <td>
                            {% for languageCode in child.keywords|keys %}
                                <a href="{{ path('netgen_tags_admin_tag_update', {'tagId': child.id, 'languageCode': languageCode}) }}">{{ languageCode }}</a>
                                {% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                        <td>{{ child.modificationDate|date('d/m/Y h:i') }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="tags-btn-group">
            <button type="submit" name="MoveTagsAction" class="tags-btn" data-enabler="Tags">{{ 'tag.button.move_multiple'|trans }}</button>
            <button type="submit" name="DeleteTagsAction" class="tags-btn" data-enabler="Tags">{{ 'tag.button.delete_multiple'|trans }}</button>
        </div>
    </form>
{% else %}
    <p>{{ 'tag.children_tags.no_children'|trans }}</p>
{% endif %}
